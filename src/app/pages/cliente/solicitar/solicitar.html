<div class="flex items-start justify-center p-5">
    <div class="w-full max-w-2xl px-[70px] py-[60px] bg-gradient-to-br from-white to-[#ccc] rounded-3xl shadow-xl">
        <h1 class="text-gray-800 font-medium text-4xl mb-6 poppins">
            Solicitar Manutenção
        </h1>

        <div class="flex-col gap-3">
            <p class="font-semibold text-md mb-2">Descrição do Equipamento</p>
            <input
                [(ngModel)]="solicitacao.equipamento"
                #descricaoEquipamento="ngModel"
                type="text"
                [class.border-red-500]="formSubmitted && !solicitacao.equipamento"
                [class.border-gray-400]="!(formSubmitted && !solicitacao.equipamento)"
                [class.focus:border-mm]="!(formSubmitted && !solicitacao.equipamento)"
                [class.hover:border-mm]="!(formSubmitted && !solicitacao.equipamento)"
                class="mb-1 rounded-lg border placeholder:text-gray-400 overflow-hidden h-10 px-3 transition w-full focus:shadow-xl focus:shadow-mm-shadow"
                placeholder="Ex: Notebook Dell Inspiron 15 3000"
                required
            />
            @if(formSubmitted && !solicitacao.equipamento){
              <p class="text-red-500 text-sm mb-4">Este campo é obrigatório.</p>
            }

            <p class="font-semibold text-md mb-2">Categoria</p>
            <select
                [(ngModel)]="solicitacao.categoria"
                [class.border-red-500]="formSubmitted && !solicitacao.categoria"
                [class.border-gray-400]="!(formSubmitted && !solicitacao.categoria)"
                [class.focus:border-mm]="!(formSubmitted && !solicitacao.categoria)"
                [class.hover:border-mm]="!(formSubmitted && !solicitacao.categoria)"
                class="mb-1 rounded-lg border overflow-hidden h-10 px-3 transition w-full focus:shadow-xl focus:shadow-mm-shadow"
                required
            >
                <option [ngValue]="null">Selecione</option>
                @for(categoria of categorias; track categoria) {
                <option [ngValue]="categoria">{{categoria.nome}}</option>
                }
            </select>
            @if(formSubmitted && !solicitacao.categoria){
              <p class="text-red-500 text-sm mb-4">Este campo é obrigatório.</p>
            }


            <p class="font-semibold text-md mb-2">Qual o defeito?</p>
            <textarea
                id="defeito" rows="4"
                [class.border-red-500]="formSubmitted && !solicitacao.defeito"
                [class.border-gray-400]="!(formSubmitted && !solicitacao.defeito)"
                [class.focus:border-mm]="!(formSubmitted && !solicitacao.defeito)"
                [class.hover:border-mm]="!(formSubmitted && !solicitacao.defeito)"
                class="mb-1 rounded-lg border placeholder:text-gray-400 overflow-hidden p-3 transition w-full focus:shadow-xl focus:shadow-mm-shadow"
                placeholder="Descreva o problema do seu equipamento..."
                [(ngModel)]="solicitacao.defeito"
                #defeito="ngModel"
            ></textarea>
            @if(formSubmitted && !solicitacao.defeito){
              <p class="text-red-500 text-sm mb-4">Este campo é obrigatório.</p>
            }


            <div class="flex justify-center mt-5">
                <button
                    class="bg-mm h-[50px] w-[60%] rounded-xl transition font-regular text-white text-lg cursor-pointer hover:shadow-xl hover:shadow-mm-shadow hover:bg-mm-dark hover:scale-[102%] active:scale-95"
                    (click)="realizarSolicitacao()"
                    [routerLink]="!formSubmitted ? null : (solicitacao.equipamento && solicitacao.categoria && solicitacao.defeito) ? ['/cliente/'] : null"
                    >
                    Solicitar
                </button>
            </div>
        </div>
    </div>
</div>

@if(modalSolicitacaoCriada){
<app-modais-confirmacao [tipoModalSolicitacao]="'solicitacaoCriada'"></app-modais-confirmacao>
}